<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgentFlow AI | Chatbot Agentivo con RAG</title>
    <meta name="description" content="Implementación completa de chatbot agentivo con RAG para aumentar conversiones y tráfico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@ruffle-rs/ruffle"></script>
    
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --ai-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            --dark-bg: #0f172a;
            --card-bg: rgba(255, 255, 255, 0.05);
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --accent: #3b82f6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --border-radius: 16px;
            --shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(100, 126, 234, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(118, 75, 162, 0.1) 0%, transparent 20%);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        /* Header */
        .header {
            padding: 2rem 0;
            position: sticky;
            top: 0;
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            z-index: 100;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }
        
        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
        }
        
        .nav-links a:hover {
            color: var(--text-primary);
        }
        
        .cta-button {
            background: var(--primary-gradient);
            color: white;
            padding: 0.8rem 1.8rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }
        
        /* Hero Section */
        .hero {
            padding: 6rem 0;
            text-align: center;
            position: relative;
        }
        
        .hero-title {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            line-height: 1.1;
        }
        
        .gradient-text {
            background: var(--ai-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero-subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 3rem;
        }
        
        .hero-visual {
            max-width: 900px;
            margin: 4rem auto;
            position: relative;
        }
        
        .floating-element {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(59, 130, 246, 0.2);
            animation: float 6s ease-in-out infinite;
        }
        
        .floating-element:nth-child(1) {
            top: 20%;
            left: 10%;
            animation-delay: 0s;
            background: rgba(245, 158, 11, 0.2);
        }
        
        .floating-element:nth-child(2) {
            top: 60%;
            right: 15%;
            animation-delay: 2s;
            background: rgba(16, 185, 129, 0.2);
        }
        
        /* Architecture Section */
        .section {
            padding: 5rem 0;
        }
        
        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 1rem;
        }
        
        .section-subtitle {
            text-align: center;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 3rem;
        }
        
        .architecture-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }
        
        .arch-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .arch-card:hover {
            transform: translateY(-5px);
            border-color: rgba(59, 130, 246, 0.5);
        }
        
        .arch-icon {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            background: var(--primary-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* Chatbot Demo */
        .chatbot-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: var(--border-radius);
            padding: 3rem;
            margin: 4rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .chatbot-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: start;
        }
        
        .chat-interface {
            background: rgba(15, 23, 42, 0.8);
            border-radius: var(--border-radius);
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            height: 500px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            background: rgba(59, 130, 246, 0.1);
            padding: 1.2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chat-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }
        
        .message {
            max-width: 80%;
            padding: 1rem 1.2rem;
            border-radius: 18px;
            line-height: 1.5;
        }
        
        .message-bot {
            background: rgba(59, 130, 246, 0.15);
            border-bottom-left-radius: 5px;
            align-self: flex-start;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .message-user {
            background: rgba(255, 255, 255, 0.1);
            border-bottom-right-radius: 5px;
            align-self: flex-end;
        }
        
        .message-system {
            background: rgba(245, 158, 11, 0.15);
            border: 1px solid rgba(245, 158, 11, 0.3);
            align-self: center;
            text-align: center;
            font-size: 0.9rem;
            max-width: 90%;
        }
        
        .chat-input-area {
            padding: 1.2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            padding: 0.9rem 1.5rem;
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: var(--accent);
        }
        
        .send-button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .send-button:hover {
            transform: scale(1.05);
        }
        
        .chat-info {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            height: 500px;
            overflow-y: auto;
        }
        
        .info-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 1rem;
        }
        
        .tab-button {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
        }
        
        .tab-button.active {
            background: rgba(59, 130, 246, 0.2);
            color: var(--text-primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Code Display */
        .code-section {
            background: #1e293b;
            border-radius: var(--border-radius);
            padding: 0;
            overflow: hidden;
            margin: 3rem 0;
        }
        
        .code-header {
            background: #0f172a;
            padding: 1.2rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .code-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .code-actions {
            display: flex;
            gap: 10px;
        }
        
        .code-action {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        
        .action-red { background: #ff5f56; }
        .action-yellow { background: #ffbd2e; }
        .action-green { background: #27c93f; }
        
        .code-content {
            padding: 2rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            line-height: 1.7;
            max-height: 500px;
            overflow-y: auto;
        }
        
        .code-line {
            margin-bottom: 5px;
            display: flex;
        }
        
        .line-number {
            width: 40px;
            color: #64748b;
            text-align: right;
            padding-right: 15px;
            user-select: none;
        }
        
        .line-content {
            flex: 1;
        }
        
        .code-keyword { color: #ff79c6; }
        .code-function { color: #50fa7b; }
        .code-string { color: #f1fa8c; }
        .code-comment { color: #6272a4; }
        .code-param { color: #8be9fd; }
        .code-class { color: #ffb86c; }
        
        /* Steps */
        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .step-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition);
        }
        
        .step-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent);
        }
        
        .step-number {
            position: absolute;
            top: -15px;
            left: -15px;
            background: var(--primary-gradient);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
        }
        
        /* Benefits */
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 4rem 0;
        }
        
        .benefit-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 2rem;
            border-top: 4px solid var(--accent);
            transition: var(--transition);
        }
        
        .benefit-card:hover {
            transform: translateY(-5px);
            background: rgba(59, 130, 246, 0.05);
        }
        
        /* Footer */
        .footer {
            background: rgba(0, 0, 0, 0.4);
            padding: 4rem 0 2rem;
            margin-top: 6rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
            margin-bottom: 3rem;
        }
        
        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 1.5rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.8rem;
        }
        
        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: var(--transition);
        }
        
        .footer-links a:hover {
            color: var(--text-primary);
            padding-left: 5px;
        }
        
        .copyright {
            text-align: center;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .chatbot-container {
                grid-template-columns: 1fr;
            }
            
            .hero-title {
                font-size: 2.8rem;
            }
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero-title {
                font-size: 2.3rem;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .chatbot-section {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="logo">
                    <i class="fas fa-robot"></i>
                    AgentFlow AI
                </div>
                <ul class="nav-links">
                    <li><a href="#architectura">Arquitectura</a></li>
                    <li><a href="#demo">Demo</a></li>
                    <li><a href="#implementacion">Implementación</a></li>
                    <li><a href="#beneficios">Beneficios</a></li>
                </ul>
                <a href="#demo" class="cta-button">Probar Demo</a>
            </nav>
        </div>
    </header>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 class="hero-title">
                Chatbot <span class="gradient-text">Agentivo</span> con RAG
            </h1>
            <p class="hero-subtitle">
                Implementación completa que fusiona LangChain, OpenAI y RAG para crear asistentes autónomos que aumentan conversiones, cautivan clientes y generan tráfico cualificado.
            </p>
            
            <div class="hero-visual">
                <div class="floating-element"></div>
                <div class="floating-element"></div>
                
                <div class="code-section">
                    <div class="code-header">
                        <div class="code-title">
                            <i class="fas fa-code"></i>
                            Implementación Python con LangChain
                        </div>
                        <div class="code-actions">
                            <div class="code-action action-red"></div>
                            <div class="code-action action-yellow"></div>
                            <div class="code-action action-green"></div>
                        </div>
                    </div>
                    <div class="code-content">
                        <div class="code-line">
                            <span class="line-number">1</span>
                            <span class="line-content"><span class="code-keyword">from</span> langchain<span class="code-keyword">.agents</span> <span class="code-keyword">import</span> <span class="code-class">create_react_agent</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">2</span>
                            <span class="line-content"><span class="code-keyword">from</span> langchain_openai <span class="code-keyword">import</span> <span class="code-class">ChatOpenAI</span>, <span class="code-class">OpenAIEmbeddings</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">3</span>
                            <span class="line-content"><span class="code-keyword">from</span> langchain_community<span class="code-keyword">.vectorstores</span> <span class="code-keyword">import</span> <span class="code-class">Chroma</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">4</span>
                            <span class="line-content"><span class="code-keyword">from</span> langchain<span class="code-keyword">.tools.retriever</span> <span class="code-keyword">import</span> <span class="code-class">create_retriever_tool</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">5</span>
                            <span class="line-content"><span class="code-comment"># Crea un agente que decide cuándo buscar en tu base de conocimiento</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">6</span>
                            <span class="line-content"><span class="code-keyword">def</span> <span class="code-function">crear_agente_conocimiento</span>():</span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">7</span>
                            <span class="line-content">    <span class="code-comment"># 1. Cargar y vectorizar documentos</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">8</span>
                            <span class="line-content">    vectorstore = <span class="code-class">Chroma</span>(embedding_function=<span class="code-class">OpenAIEmbeddings</span>())</span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">9</span>
                            <span class="line-content">    <span class="code-comment"># 2. Crear herramienta de búsqueda RAG</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">10</span>
                            <span class="line-content">    retriever_tool = <span class="code-function">create_retriever_tool</span>(</span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">11</span>
                            <span class="line-content">        vectorstore.<span class="code-function">as_retriever</span>(),</span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">12</span>
                            <span class="line-content">        <span class="code-string">"buscar_conocimiento_empresa"</span>,</span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">13</span>
                            <span class="line-content">        <span class="code-string">"Busca en la base de conocimiento de la empresa"</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">14</span>
                            <span class="line-content">    )</span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">15</span>
                            <span class="line-content">    <span class="code-comment"># 3. Configurar LLM y crear agente</span></span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">16</span>
                            <span class="line-content">    llm = <span class="code-class">ChatOpenAI</span>(model=<span class="code-string">"gpt-4"</span>, temperature=<span class="code-param">0</span>)</span>
                        </div>
                        <div class="code-line">
                            <span class="line-number">17</span>
                            <span class="line-content">    <span class="code-keyword">return</span> <span class="code-function">create_react_agent</span>(llm, [retriever_tool])</span>
                        </div>
                    </div>
                </div>
                
                <a href="#demo" class="cta-button pulse" style="margin-top: 3rem; padding: 1rem 2.5rem; font-size: 1.1rem;">
                    <i class="fas fa-play-circle"></i> Probar Chatbot Agentivo
                </a>
            </div>
        </div>
    </section>
    
    <!-- Architecture Section -->
    <section id="architectura" class="section">
        <div class="container">
            <h2 class="section-title">Arquitectura del Sistema Agentivo</h2>
            <p class="section-subtitle">Combinamos LangChain para orquestación, RAG para conocimiento específico y OpenAI para inteligencia conversacional</p>
            
            <div class="architecture-grid">
                <div class="arch-card">
                    <div class="arch-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <h3>LangChain Orchestrator</h3>
                    <p>Framework que coordena el flujo entre el LLM, las herramientas RAG y las acciones externas. Decide cuándo buscar información y cómo formular respuestas.</p>
                    <ul style="margin-top: 1rem; padding-left: 1.2rem; color: var(--text-secondary);">
                        <li>Gestión de herramientas y herramientas</li>
                        <li>Prompt engineering optimizado</li>
                        <li>Memoria conversacional</li>
                    </ul>
                </div>
                
                <div class="arch-card">
                    <div class="arch-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <h3>RAG (Retrieval-Augmented Generation)</h3>
                    <p>Sistema que recupera información relevante de tu base de conocimiento y la inyecta en el contexto del LLM para respuestas precisas y actualizadas.</p>
                    <ul style="margin-top: 1rem; padding-left: 1.2rem; color: var(--text-secondary);">
                        <li>Embeddings de documentos</li>
                        <li>Búsqueda semántica vectorial</li>
                        <li>Contexto aumentado dinámico</li>
                    </ul>
                </div>
                
                <div class="arch-card">
                    <div class="arch-icon">
                        <i class="fas fa-comments"></i>
                    </div>
                    <h3>OpenAI GPT-4 + Funciones</h3>
                    <p>Modelo de lenguaje avanzado que procesa conversaciones naturales, entiende intenciones y genera respuestas coherentes utilizando el contexto proporcionado.</p>
                    <ul style="margin-top: 1rem; padding-left: 1.2rem; color: var(--text-secondary);">
                        <li>Comprensión contextual profunda</li>
                        <li>Capacidad de razonamiento</li>
                        <li>Funciones para acciones específicas</li>
                    </ul>
                </div>
            </div>
            
            <!-- RAG Process Visualization -->
            <div style="background: rgba(0,0,0,0.3); border-radius: var(--border-radius); padding: 2.5rem; margin-top: 4rem; border: 1px solid rgba(255,255,255,0.1);">
                <h3 style="text-align: center; margin-bottom: 2rem; font-size: 1.5rem;">Flujo del Proceso RAG en Tiempo Real</h3>
                <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 2rem;">
                    <div style="text-align: center; flex: 1; min-width: 150px;">
                        <div style="background: rgba(59,130,246,0.2); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-question" style="font-size: 1.8rem; color: var(--accent);"></i>
                        </div>
                        <h4 style="margin-bottom: 0.5rem;">1. Pregunta</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">Usuario hace una consulta</p>
                    </div>
                    
                    <div style="text-align: center; flex: 1; min-width: 150px;">
                        <div style="background: rgba(245,158,11,0.2); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-search" style="font-size: 1.8rem; color: var(--warning);"></i>
                        </div>
                        <h4 style="margin-bottom: 0.5rem;">2. Búsqueda</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">En base de conocimiento</p>
                    </div>
                    
                    <div style="text-align: center; flex: 1; min-width: 150px;">
                        <div style="background: rgba(16,185,129,0.2); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-file-alt" style="font-size: 1.8rem; color: var(--success);"></i>
                        </div>
                        <h4 style="margin-bottom: 0.5rem;">3. Recuperación</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">Documentos relevantes</p>
                    </div>
                    
                    <div style="text-align: center; flex: 1; min-width: 150px;">
                        <div style="background: rgba(239,68,68,0.2); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-robot" style="font-size: 1.8rem; color: var(--danger);"></i>
                        </div>
                        <h4 style="margin-bottom: 0.5rem;">4. Generación</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">Respuesta contextual</p>
                    </div>
                    
                    <div style="text-align: center; flex: 1; min-width: 150px;">
                        <div style="background: rgba(139,92,246,0.2); width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                            <i class="fas fa-reply" style="font-size: 1.8rem; color: #8b5cf6;"></i>
                        </div>
                        <h4 style="margin-bottom: 0.5rem;">5. Respuesta</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">Al usuario final</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Demo Section -->
    <section id="demo" class="section">
        <div class="container">
            <h2 class="section-title">Demo Interactiva del Chatbot</h2>
            <p class="section-subtitle">Prueba un simulador del chatbot agentivo con RAG integrado. Responde preguntas sobre productos, políticas y más.</p>
            
            <div class="chatbot-section">
                <div class="chatbot-container">
                    <div class="chat-interface">
                        <div class="chat-header">
                            <i class="fas fa-robot" style="color: var(--accent);"></i>
                            <div>
                                <h3 style="font-size: 1.1rem;">Asistente AgentFlow AI</h3>
                                <p style="font-size: 0.85rem; color: var(--text-secondary);">Con RAG activado • En línea</p>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="chatMessages">
                            <div class="message message-bot">
                                ¡Hola! Soy tu asistente IA agentivo. Estoy equipado con RAG, lo que significa que puedo buscar información específica en la base de conocimiento de la empresa para darte respuestas precisas. ¿En qué puedo ayudarte hoy?
                            </div>
                            <div class="message message-system">
                                <i class="fas fa-lightbulb"></i> Sugerencias: Prueba preguntar sobre "política de devoluciones", "características del producto X", o "tiempos de envío"
                            </div>
                        </div>
                        
                        <div class="chat-input-area">
                            <input type="text" class="chat-input" id="chatInput" placeholder="Escribe tu pregunta aquí...">
                            <button class="send-button" id="sendButton">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="chat-info">
                        <div class="info-tabs">
                            <button class="tab-button active" data-tab="rag">Proceso RAG</button>
                            <button class="tab-button" data-tab="code">Código</button>
                            <button class="tab-button" data-tab="stats">Estadísticas</button>
                        </div>
                        
                        <div class="tab-content active" id="ragTab">
                            <h4 style="margin-bottom: 1rem; color: var(--accent);">Simulación del Flujo RAG</h4>
                            <p>Cuando preguntas algo, el sistema:</p>
                            <ol style="margin: 1rem 0 1rem 1.5rem; color: var(--text-secondary);">
                                <li>Analiza la intención de tu pregunta</li>
                                <li>Busca en la base de conocimiento vectorial</li>
                                <li>Recupera los fragmentos más relevantes</li>
                                <li>Construye un prompt aumentado con contexto</li>
                                <li>Genera una respuesta precisa y citando fuentes</li>
                            </ol>
                            
                            <div style="background: rgba(59,130,246,0.1); padding: 1.2rem; border-radius: 10px; margin-top: 1.5rem; border-left: 4px solid var(--accent);">
                                <h5 style="margin-bottom: 0.5rem;"><i class="fas fa-database"></i> Base de Conocimiento Simulada</h5>
                                <p style="font-size: 0.9rem; color: var(--text-secondary); margin: 0;">Contiene: FAQ, manuales de producto, políticas, casos de éxito, y documentación técnica.</p>
                            </div>
                        </div>
                        
                        <div class="tab-content" id="codeTab">
                            <h4 style="margin-bottom: 1rem; color: var(--accent);">Código del Agente</h4>
                            <pre style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; overflow: auto;">
# Implementación simplificada del agente
agent = create_react_agent(
    llm=ChatOpenAI(model="gpt-4"),
    tools=[
        create_retriever_tool(
            vectorstore.as_retriever(),
            "buscar_faq",
            "Busca en preguntas frecuentes"
        ),
        create_retriever_tool(
            vectorstore.as_retriever(),
            "buscar_productos", 
            "Busca información de productos"
        )
    ],
    prompt=prompt_template
)

# Función para procesar preguntas
def responder_pregunta(pregunta):
    respuesta = agent.invoke({
        "input": pregunta,
        "chat_history": [] 
    })
    return respuesta["output"]
                            </pre>
                        </div>
                        
                        <div class="tab-content" id="statsTab">
                            <h4 style="margin-bottom: 1rem; color: var(--accent);">Métricas de Impacto</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div style="background: rgba(16,185,129,0.1); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 1.8rem; font-weight: 700; color: var(--success);">+87%</div>
                                    <div style="font-size: 0.9rem;">Satisfacción cliente</div>
                                </div>
                                <div style="background: rgba(59,130,246,0.1); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 1.8rem; font-weight: 700; color: var(--accent);">+45%</div>
                                    <div style="font-size: 0.9rem;">Conversiones</div>
                                </div>
                                <div style="background: rgba(245,158,11,0.1); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 1.8rem; font-weight: 700; color: var(--warning);">-62%</div>
                                    <div style="font-size: 0.9rem;">Tickets soporte</div>
                                </div>
                                <div style="background: rgba(139,92,246,0.1); padding: 1rem; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 1.8rem; font-weight: 700; color: #8b5cf6;">3.2x</div>
                                    <div style="font-size: 0.9rem;">ROI promedio</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 2rem;">
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">
                        <i class="fas fa-info-circle"></i> Esta demo simula el comportamiento de un chatbot agentivo real. En producción, se conectaría a bases de datos reales y APIs de la empresa.
                    </p>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Implementation Steps -->
    <section id="implementacion" class="section">
        <div class="container">
            <h2 class="section-title">Implementación Paso a Paso</h2>
            <p class="section-subtitle">Guía completa para desplegar tu propio chatbot agentivo con LangChain y RAG</p>
            
            <div class="steps-container">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3>Preparar Entorno</h3>
                    <p>Instalar dependencias y configurar claves API de OpenAI.</p>
                    <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; margin-top: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">
                        pip install langchain openai<br>
                        export OPENAI_API_KEY="tu-key"
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3>Cargar Documentos</h3>
                    <p>Importar FAQ, manuales, políticas a la base vectorial.</p>
                    <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; margin-top: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">
                        from langchain.document_loaders import TextLoader<br>
                        loader = TextLoader("faq.txt")<br>
                        documents = loader.load()
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3>Crear Vectorstore</h3>
                    <p>Generar embeddings y almacenar en Chroma/FAISS.</p>
                    <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; margin-top: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">
                        vectorstore = Chroma.from_documents(<br>
                        &nbsp;&nbsp;documents, OpenAIEmbeddings()<br>
                        )
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3>Construir Agente</h3>
                    <p>Configurar herramientas RAG y crear el agente LangChain.</p>
                    <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; margin-top: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">
                        agent = create_react_agent(<br>
                        &nbsp;&nbsp;llm, tools=[retriever_tool]<br>
                        )
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">5</div>
                    <h3>Integrar Web</h3>
                    <p>Conectar backend con interfaz web usando FastAPI o similar.</p>
                    <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; margin-top: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">
                        from fastapi import FastAPI<br>
                        app = FastAPI()<br>
                        @app.post("/chat")
                    </div>
                </div>
                
                <div class="step-card">
                    <div class="step-number">6</div>
                    <h3>Desplegar</h3>
                    <p>Publicar en AWS, GCP, Azure o Vercel para producción.</p>
                    <div style="background: rgba(0,0,0,0.3); padding: 1rem; border-radius: 8px; margin-top: 1rem; font-family: 'JetBrains Mono', monospace; font-size: 0.9rem;">
                        docker build -t chatbot .<br>
                        docker run -p 8000:8000 chatbot
                    </div>
                </div>
            </div>
            
            <!-- Full Code Implementation -->
            <div class="code-section" style="margin-top: 4rem;">
                <div class="code-header">
                    <div class="code-title">
                        <i class="fas fa-file-code"></i>
                        Implementación Completa del Backend
                    </div>
                    <div class="code-actions">
                        <div class="code-action action-red"></div>
                        <div class="code-action action-yellow"></div>
                        <div class="code-action action-green"></div>
                    </div>
                </div>
                <div class="code-content">
                    <div class="code-line">
                        <span class="line-number">1</span>
                        <span class="line-content"><span class="code-keyword">import</span> os</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">2</span>
                        <span class="line-content"><span class="code-keyword">from</span> fastapi <span class="code-keyword">import</span> FastAPI, HTTPException</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">3</span>
                        <span class="line-content"><span class="code-keyword">from</span> pydantic <span class="code-keyword">import</span> BaseModel</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">4</span>
                        <span class="line-content"><span class="code-keyword">from</span> langchain.agents <span class="code-keyword">import</span> <span class="code-class">create_react_agent</span>, AgentExecutor</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">5</span>
                        <span class="line-content"><span class="code-keyword">from</span> langchain_openai <span class="code-keyword">import</span> <span class="code-class">ChatOpenAI</span>, <span class="code-class">OpenAIEmbeddings</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">6</span>
                        <span class="line-content"><span class="code-keyword">from</span> langchain_community.vectorstores <span class="code-keyword">import</span> <span class="code-class">Chroma</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">7</span>
                        <span class="line-content"><span class="code-keyword">from</span> langchain.tools.retriever <span class="code-keyword">import</span> <span class="code-class">create_retriever_tool</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">8</span>
                        <span class="line-content"><span class="code-keyword">from</span> langchain.memory <span class="code-keyword">import</span> <span class="code-class">ConversationBufferMemory</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">9</span>
                        <span class="line-content"><span class="code-keyword">from</span> langchain.prompts <span class="code-keyword">import</span> <span class="code-class">PromptTemplate</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">10</span>
                        <span class="line-content"><span class="code-keyword">from</span> langchain.text_splitter <span class="code-keyword">import</span> <span class="code-class">RecursiveCharacterTextSplitter</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">11</span>
                        <span class="line-content"><span class="code-keyword">from</span> langchain_community.document_loaders <span class="code-keyword">import</span> <span class="code-class">TextLoader</span>, <span class="code-class">PyPDFLoader</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">12</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">13</span>
                        <span class="line-content"><span class="code-comment"># Configurar API Key de OpenAI</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">14</span>
                        <span class="line-content">os.environ[<span class="code-string">"OPENAI_API_KEY"</span>] = <span class="code-string">"tu-api-key-aqui"</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">15</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">16</span>
                        <span class="line-content"><span class="code-comment"># Inicializar aplicación FastAPI</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">17</span>
                        <span class="line-content">app = <span class="code-class">FastAPI</span>(title=<span class="code-string">"Chatbot Agentivo API"</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">18</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">19</span>
                        <span class="line-content"><span class="code-comment"># Modelo para solicitudes de chat</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">20</span>
                        <span class="line-content"><span class="code-keyword">class</span> <span class="code-class">ChatRequest</span>(<span class="code-class">BaseModel</span>):</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">21</span>
                        <span class="line-content">    message: <span class="code-class">str</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">22</span>
                        <span class="line-content">    session_id: <span class="code-class">str</span> = <span class="code-string">"default"</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">23</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">24</span>
                        <span class="line-content"><span class="code-comment"># Cargar y preparar documentos</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">25</span>
                        <span class="line-content"><span class="code-keyword">def</span> <span class="code-function">load_and_index_documents</span>():</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">26</span>
                        <span class="line-content">    <span class="code-comment"># Cargar documentos de diferentes fuentes</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">27</span>
                        <span class="line-content">    loaders = [</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">28</span>
                        <span class="line-content">        <span class="code-class">TextLoader</span>(<span class="code-string">"data/faq.txt"</span>),</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">29</span>
                        <span class="line-content">        <span class="code-class">TextLoader</span>(<span class="code-string">"data/productos.txt"</span>),</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">30</span>
                        <span class="line-content">        <span class="code-class">PyPDFLoader</span>(<span class="code-string">"data/manual.pdf"</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">31</span>
                        <span class="line-content">    ]</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">32</span>
                        <span class="line-content">    </span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">33</span>
                        <span class="line-content">    documents = []</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">34</span>
                        <span class="line-content">    <span class="code-keyword">for</span> loader <span class="code-keyword">in</span> loaders:</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">35</span>
                        <span class="line-content">        <span class="code-keyword">try</span>:</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">36</span>
                        <span class="line-content">            documents.extend(loader.load())</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">37</span>
                        <span class="line-content">        <span class="code-keyword">except</span>:</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">38</span>
                            <span class="line-content">            <span class="code-keyword">pass</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">39</span>
                        <span class="line-content">    </span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">40</span>
                        <span class="line-content">    <span class="code-comment"># Dividir documentos en fragmentos</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">41</span>
                        <span class="line-content">    text_splitter = <span class="code-class">RecursiveCharacterTextSplitter</span>(</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">42</span>
                        <span class="line-content">        chunk_size=<span class="code-param">1000</span>, chunk_overlap=<span class="code-param">200</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">43</span>
                        <span class="line-content">    )</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">44</span>
                        <span class="line-content">    texts = text_splitter.split_documents(documents)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">45</span>
                        <span class="line-content">    </span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">46</span>
                        <span class="line-content">    <span class="code-comment"># Crear vectorstore con embeddings</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">47</span>
                            <span class="line-content">    embeddings = <span class="code-class">OpenAIEmbeddings</span>(model=<span class="code-string">"text-embedding-3-small"</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">48</span>
                        <span class="line-content">    vectorstore = <span class="code-class">Chroma</span>.from_documents(texts, embeddings)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">49</span>
                        <span class="line-content">    </span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">50</span>
                        <span class="line-content">    <span class="code-keyword">return</span> vectorstore</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">51</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">52</span>
                        <span class="line-content"><span class="code-comment"># Inicializar vectorstore y agente al arrancar</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">53</span>
                        <span class="line-content">vectorstore = <span class="code-function">load_and_index_documents</span>()</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">54</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">55</span>
                        <span class="line-content"><span class="code-comment"># Crear herramientas RAG</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">56</span>
                        <span class="line-content">retriever = vectorstore.as_retriever(search_kwargs={<span class="code-string">"k"</span>: <span class="code-param">4</span>})</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">57</span>
                        <span class="line-content">retriever_tool = <span class="code-function">create_retriever_tool</span>(</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">58</span>
                        <span class="line-content">    retriever,</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">59</span>
                        <span class="line-content">    <span class="code-string">"buscar_conocimiento_empresa"</span>,</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">60</span>
                        <span class="line-content">    <span class="code-string">"Busca información específica en la base de conocimiento de la empresa"</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">61</span>
                        <span class="line-content">)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">62</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">63</span>
                        <span class="line-content"><span class="code-comment"># Configurar LLM y memoria</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">64</span>
                        <span class="line-content">llm = <span class="code-class">ChatOpenAI</span>(model=<span class="code-string">"gpt-4o-mini"</span>, temperature=<span class="code-param">0.3</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">65</span>
                        <span class="line-content">memory = <span class="code-class">ConversationBufferMemory</span>(memory_key=<span class="code-string">"chat_history"</span>, return_messages=<span class="code-keyword">True</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">66</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">67</span>
                        <span class="line-content"><span class="code-comment"># Crear agente con herramientas RAG</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">68</span>
                        <span class="line-content">agent = <span class="code-function">create_react_agent</span>(</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">69</span>
                        <span class="line-content">    llm=llm,</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">70</span>
                        <span class="line-content">    tools=[retriever_tool],</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">71</span>
                        <span class="line-content">    prompt=<span class="code-class">PromptTemplate</span>.from_template(</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">72</span>
                        <span class="line-content">        <span class="code-string">"Eres un asistente útil con acceso a la base de conocimiento de la empresa. "</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">73</span>
                        <span class="line-content">        <span class="code-string">"Usa el buscador cuando necesites información específica.\n\n"</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">74</span>
                        <span class="line-content">        <span class="code-string">"Historial: {chat_history}\n"</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">75</span>
                        <span class="line-content">        <span class="code-string">"Pregunta: {input}\n"</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">76</span>
                        <span class="line-content">        <span class="code-string">"Herramientas: {tools}\n"</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">77</span>
                        <span class="line-content">        <span class="code-string">"Instrucciones: {agent_scratchpad}"</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">78</span>
                        <span class="line-content">    )</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">79</span>
                        <span class="line-content">)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">80</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">81</span>
                        <span class="line-content">agent_executor = <span class="code-class">AgentExecutor</span>(agent=agent, tools=[retriever_tool], memory=memory, verbose=<span class="code-keyword">True</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">82</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">83</span>
                        <span class="line-content"><span class="code-comment"># Endpoint para chat</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">84</span>
                        <span class="line-content">@app.post(<span class="code-string">"/chat"</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">85</span>
                        <span class="line-content"><span class="code-keyword">async</span> <span class="code-keyword">def</span> <span class="code-function">chat_endpoint</span>(request: <span class="code-class">ChatRequest</span>):</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">86</span>
                        <span class="line-content">    <span class="code-keyword">try</span>:</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">87</span>
                        <span class="line-content">        response = agent_executor.invoke({<span class="code-string">"input"</span>: request.message})</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">88</span>
                        <span class="line-content">        <span class="code-keyword">return</span> {<span class="code-string">"response"</span>: response[<span class="code-string">"output"</span>], <span class="code-string">"session_id"</span>: request.session_id}</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">89</span>
                        <span class="line-content">    <span class="code-keyword">except</span> <span class="code-class">Exception</span> <span class="code-keyword">as</span> e:</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">90</span>
                        <span class="line-content">        <span class="code-keyword">raise</span> <span class="code-class">HTTPException</span>(status_code=<span class="code-param">500</span>, detail=<span class="code-string">f"Error: {str(e)}"</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">91</span>
                        <span class="line-content"></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">92</span>
                        <span class="line-content"><span class="code-comment"># Endpoint de salud</span></span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">93</span>
                        <span class="line-content">@app.get(<span class="code-string">"/health"</span>)</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">94</span>
                        <span class="line-content"><span class="code-keyword">async</span> <span class="code-keyword">def</span> <span class="code-function">health_check</span>():</span>
                    </div>
                    <div class="code-line">
                        <span class="line-number">95</span>
                        <span class="line-content">    <span class="code-keyword">return</span> {<span class="code-string">"status"</span>: <span class="code-string">"healthy"</span>, <span class="code-string">"model"</span>: <span class="code-string">"gpt-4o-mini"</span>, <span class="code-string">"rag"</span>: <span class="code-keyword">True</span>}</span>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Benefits Section -->
    <section id="beneficios" class="section">
        <div class="container">
            <h2 class="section-title">Impacto en Negocio y Métricas Clave</h2>
            <p class="section-subtitle">Cómo un chatbot agentivo transforma la experiencia del cliente y genera resultados tangibles</p>
            
            <div class="benefits-grid">
                <div class="benefit-card">
                    <h3><i class="fas fa-chart-line" style="color: var(--success);"></i> Aumento de Conversiones</h3>
                    <p>Asistentes proactivos que guían a los clientes en el funnel de ventas, recomendando productos y resolviendo objeciones en tiempo real.</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 1.5rem;">
                        <span style="font-size: 0.9rem; color: var(--text-secondary);">Impacto promedio:</span>
                        <span style="font-weight: 700; color: var(--success);">+35-50%</span>
                    </div>
                </div>
                
                <div class="benefit-card">
                    <h3><i class="fas fa-headset" style="color: var(--accent);"></i> Reducción de Costos Soporte</h3>
                    <p>Resuelve automáticamente el 70%+ de consultas comunes, liberando a agentes humanos para casos complejos.</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 1.5rem;">
                        <span style="font-size: 0.9rem; color: var(--text-secondary);">Ahorro estimado:</span>
                        <span style="font-weight: 700; color: var(--accent);">40-60%</span>
                    </div>
                </div>
                
                <div class="benefit-card">
                    <h3><i class="fas fa-clock" style="color: var(--warning);"></i> Disponibilidad 24/7</h3>
                    <p>Atiende clientes en cualquier momento, reduciendo tiempos de respuesta de horas/días a segundos.</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 1.5rem;">
                        <span style="font-size: 0.9rem; color: var(--text-secondary);">Respuesta promedio:</span>
                        <span style="font-weight: 700; color: var(--warning);">2.3 segundos</span>
                    </div>
                </div>
                
                <div class="benefit-card">
                    <h3><i class="fas fa-users" style="color: #8b5cf6;"></i> Experiencia Personalizada</h3>
                    <p>Adapta respuestas basadas en historial, preferencias y comportamiento del usuario.</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 1.5rem;">
                        <span style="font-size: 0.9rem; color: var(--text-secondary);">Satisfacción cliente:</span>
                        <span style="font-weight: 700; color: #8b5cf6;">+4.5/5.0</span>
                    </div>
                </div>
                
                <div class="benefit-card">
                    <h3><i class="fas fa-traffic-light" style="color: var(--danger);"></i> Generación de Tráfico</h3>
                    <p>Chatbots optimizados para SEO atraen tráfico orgánico y capturan leads cualificados.</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 1.5rem;">
                        <span style="font-size: 0.9rem; color: var(--text-secondary);">Tráfico adicional:</span>
                        <span style="font-weight: 700; color: var(--danger);">+25-40%</span>
                    </div>
                </div>
                
                <div class="benefit-card">
                    <h3><i class="fas fa-database" style="color: var(--success);"></i> Insights de Clientes</h3>
                    <p>Analiza conversaciones para identificar tendencias, necesidades y oportunidades de mejora.</p>
                    <div style="display: flex; justify-content: space-between; margin-top: 1.5rem;">
                        <span style="font-size: 0.9rem; color: var(--text-secondary);">Data points/mes:</span>
                        <span style="font-weight: 700; color: var(--success);">10,000+</span>
                    </div>
                </div>
            </div>
            
            <!-- CTA Final -->
            <div style="text-align: center; margin-top: 4rem; padding: 3rem; background: linear-gradient(135deg, rgba(102,126,234,0.1) 0%, rgba(118,75,162,0.1) 100%); border-radius: var(--border-radius);">
                <h2 style="font-size: 2.2rem; margin-bottom: 1rem;">¿Listo para Implementar tu Chatbot Agentivo?</h2>
                <p style="color: var(--text-secondary); max-width: 700px; margin: 0 auto 2rem;">Comienza hoy con nuestra plantilla completa o contáctanos para una implementación personalizada.</p>
                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <a href="#" class="cta-button" style="background: var(--ai-gradient);">
                        <i class="fas fa-download"></i> Descargar Código Completo
                    </a>
                    <a href="#demo" class="cta-button" style="background: transparent; border: 2px solid var(--accent);">
                        <i class="fas fa-play"></i> Probar Demo Avanzada
                    </a>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div>
                    <div class="logo" style="margin-bottom: 1.5rem;">AgentFlow AI</div>
                    <p style="color: var(--text-secondary); max-width: 300px;">Implementaciones avanzadas de chatbots agentivos con RAG para transformar la experiencia del cliente.</p>
                </div>
                
                <div>
                    <h3>Recursos</h3>
                    <ul class="footer-links">
                        <li><a href="#">Documentación LangChain</a></li>
                        <li><a href="#">Guía RAG Avanzada</a></li>
                        <li><a href="#">Casos de Éxito</a></li>
                        <li><a href="#">API Reference</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3>Tecnologías</h3>
                    <ul class="footer-links">
                        <li><a href="#">LangChain</a></li>
                        <li><a href="#">OpenAI GPT</a></li>
                        <li><a href="#">Vector Databases</a></li>
                        <li><a href="#">FastAPI</a></li>
                    </ul>
                </div>
                
                <div>
                    <h3>Contacto</h3>
                    <ul class="footer-links">
                        <li><a href="#">Soporte Técnico</a></li>
                        <li><a href="#">Consultoría</a></li>
                        <li><a href="#">Enterprise Solutions</a></li>
                        <li><a href="#">Partnerships</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>© 2024 AgentFlow AI. Implementación educativa de chatbot agentivo con RAG. Código disponible para fines educativos y comerciales.</p>
                <p style="margin-top: 0.5rem; font-size: 0.8rem;">Nota: Esta demostración requiere API keys de OpenAI para funcionar en producción.</p>
            </div>
        </div>
    </footer>
    
    <script>
        // Simulación de Base de Conocimiento para el Chatbot
        const knowledgeBase = {
            "politica devoluciones": "Nuestra política de devoluciones permite devolver productos dentro de los 30 días posteriores a la compra. Los productos deben estar en su estado original, sin usar y con el embalaje original. El reembolso se procesa en un plazo de 5 a 10 días hábiles.",
            "envio gratis": "Ofrecemos envío gratis en pedidos superiores a $50. Para pedidos inferiores, el costo de envío es de $4.99. Los envíos tardan de 3 a 5 días hábiles.",
            "garantia productos": "Todos nuestros productos tienen una garantía de 1 año contra defectos de fabricación. Para reclamar la garantía, contacta a nuestro soporte con tu número de pedido y una descripción del problema.",
            "metodos pago": "Aceptamos tarjetas de crédito/débito (Visa, MasterCard, American Express), PayPal, Apple Pay y Google Pay. Todos los pagos son procesados de forma segura con encriptación SSL.",
            "seguimiento pedido": "Puedes seguir tu pedido ingresando tu número de seguimiento en la sección 'Mis Pedidos' de tu cuenta. También enviamos actualizaciones por email en cada etapa del envío.",
            "contacto soporte": "Nuestro equipo de soporte está disponible de lunes a viernes de 9:00 a 18:00. Puedes contactarnos por teléfono al +1-800-123-4567, por email a soporte@empresa.com, o a través del chat en vivo.",
            "tiempo entrega": "El tiempo de entrega varía según tu ubicación: 1-3 días para envíos locales, 3-5 días para nacionales, y 7-14 días para internacionales. Los pedidos realizados antes de las 14:00 se procesan el mismo día."
        };
        
        // Configuración del Chatbot
        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // Función para buscar en la base de conocimiento simulada
        function buscarEnConocimiento(pregunta) {
            const preguntaLower = pregunta.toLowerCase();
            let mejorCoincidencia = null;
            let mejorPuntaje = 0;
            
            // Búsqueda simple por palabras clave
            for (const [keyword, respuesta] of Object.entries(knowledgeBase)) {
                const palabras = preguntaLower.split(' ');
                let puntaje = 0;
                
                for (const palabra of palabras) {
                    if (keyword.includes(palabra) && palabra.length > 3) {
                        puntaje += 1;
                    }
                }
                
                if (puntaje > mejorPuntaje) {
                    mejorPuntaje = puntaje;
                    mejorCoincidencia = respuesta;
                }
            }
            
            // Si no hay coincidencia buena, usar respuesta genérica
            if (mejorPuntaje < 1) {
                return "No encontré información específica sobre eso en mi base de conocimiento. ¿Podrías reformular la pregunta o contactar a nuestro equipo de soporte para asistencia más detallada?";
            }
            
            return mejorCoincidencia;
        }
        
        // Función para simular el procesamiento RAG
        function procesarConRAG(pregunta) {
            // Paso 1: Mostrar que está procesando
            const thinkingMsg = document.createElement('div');
            thinkingMsg.className = 'message message-system';
            thinkingMsg.innerHTML = `<i class="fas fa-cog fa-spin"></i> Procesando con RAG: buscando en base de conocimiento...`;
            chatMessages.appendChild(thinkingMsg);
            
            // Paso 2: Simular búsqueda (retraso para realismo)
            setTimeout(() => {
                // Remover mensaje de procesamiento
                thinkingMsg.remove();
                
                // Buscar respuesta
                const respuesta = buscarEnConocimiento(pregunta);
                
                // Determinar si se encontró información específica
                const esInformacionEspecifica = !respuesta.includes("No encontré información específica");
                
                // Mostrar respuesta
                const botMsg = document.createElement('div');
                botMsg.className = 'message message-bot';
                
                if (esInformacionEspecifica) {
                    botMsg.innerHTML = `${respuesta} <br><br><small style="opacity:0.7;"><i class="fas fa-database"></i> Información recuperada de la base de conocimiento RAG</small>`;
                } else {
                    botMsg.innerHTML = `${respuesta} <br><br><small style="opacity:0.7;"><i class="fas fa-info-circle"></i> Esta es una respuesta general. Para asistencia específica, contacta a nuestro equipo.</small>`;
                }
                
                chatMessages.appendChild(botMsg);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1500);
        }
        
        // Manejar envío de mensajes
        function enviarMensaje() {
            const texto = chatInput.value.trim();
            if (!texto) return;
            
            // Mostrar mensaje del usuario
            const userMsg = document.createElement('div');
            userMsg.className = 'message message-user';
            userMsg.textContent = texto;
            chatMessages.appendChild(userMsg);
            
            // Limpiar input
            chatInput.value = '';
            
            // Desplazar al final
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Procesar con RAG
            procesarConRAG(texto);
        }
        
        // Event Listeners
        sendButton.addEventListener('click', enviarMensaje);
        
        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                enviarMensaje();
            }
        });
        
        // Manejar pestañas de información
        tabButtons.forEach(button => {
            button.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                
                // Actualizar botones activos
                tabButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // Mostrar contenido activo
                tabContents.forEach(content => {
                    content.classList.remove('active');
                    if (content.id === tabId + 'Tab') {
                        content.classList.add('active');
                    }
                });
            });
        });
        
        // Ejemplos predefinidos para el chat
        const ejemplos = [
            "¿Cuál es la política de devoluciones?",
            "¿Tienen envío gratis?",
            "¿Qué métodos de pago aceptan?",
            "¿Cuánto tarda el envío?",
            "¿Cómo puedo contactar a soporte?"
        ];
        
        // Rotar ejemplos en el placeholder
        let ejemploIndex = 0;
        function actualizarPlaceholder() {
            chatInput.placeholder = `Ejemplo: "${ejemplos[ejemploIndex]}"`;
            ejemploIndex = (ejemploIndex + 1) % ejemplos.length;
        }
        
        // Cambiar placeholder cada 5 segundos
        setInterval(actualizarPlaceholder, 5000);
        actualizarPlaceholder();
        
        // Animaciones al cargar
        document.addEventListener('DOMContentLoaded', function() {
            const elements = document.querySelectorAll('.arch-card, .step-card, .benefit-card');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            
            elements.forEach(el => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(el);
            });
        });
        
        // Simular métricas en tiempo real
        function actualizarMetricas() {
            const metricas = document.querySelectorAll('#statsTab .benefit-card div:first-child');
            if (metricas.length > 0) {
                metricas.forEach(metrica => {
                    const valorActual = parseInt(metrica.textContent);
                    const variacion = Math.floor(Math.random() * 5) - 2; // -2 to +2
                    const nuevoValor = valorActual + variacion;
                    
                    // Actualizar con animación
                    metrica.textContent = `+${nuevoValor}%`;
                });
            }
        }
        
        // Actualizar métricas cada 10 segundos
        setInterval(actualizarMetricas, 10000);
        
        console.log('Chatbot Agentivo con RAG - Demostración cargada exitosamente');
        console.log('Base de conocimiento simulada:', Object.keys(knowledgeBase).length, 'temas disponibles');
    </script>
</body>
</html>